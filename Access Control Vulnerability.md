# What is access control?
Access control is the application of constraints on who or what is authorized to perform actions or access resources. In the context of web applications, **access control is dependent on authentication and session management:**

1. **Authentication** confirms that the user is who they say they are.
2. **Session management** identifies which subsequent HTTP requests are being made by that same user.
3. **Access control** determines whether the user is allowed to carry out the action that they are attempting to perform.

# What is Privilege escalation:
Accessing those resources for which user do not have authorization by escalating the privilege comes under Privilege escalation.

There are multiple ways to achieve this such as by modifying user, directly accessing URL. Ultimate goal of attacker is to access sensitive data, API tokens, bypassing user controls or performing any malicious actions. It has two types:

**1. Horizontal Privilege Escalation:** If user accesses the resource of the another user who have same level access rights then its known as the horizontal privilege escalation.
**As User ‘A’ can take privilege of User ‘B’.**

**2. Vertical privilege escalation:** If a user can gain access to functionality that they are not permitted to access then this is vertical privilege escalation. For example, if a non-administrative user can gain access to an admin page where they can delete user accounts, then this is vertical privilege escalation. 
**As “normal user” can take privilege of “admin”.**

# What is Insecure direct object references (IDOR)?

Insecure direct object references (IDOR) are a type of access control vulnerability that arises when an application uses user-supplied input to access objects directly.

# Insecure Direct Object Reference

**How To Hunt:**

**First Method**

1. Create Two accounts on the same targets 
2. Now choose one is the Vitcim account and One is Attacker Account
3. Check for functionality where the user can delete, create or change the password
4. Check for any guessable ID in a private message or any other functionality
5. Capture the request and analysis in the burpsuite API like REST ( Representation state transfer ) and GraphQL is most vulnerable to IDOR
6. Change the ID if it returns any other resource it is vulnerable to IDOR
7. Sometimes we need to change the HTTP Method POST to GET and POST to DELETE

**Second Method**

1. Create two accounts if possible or else enumerate users first. 
2. Check if the endpoint is private or public and does it contains any kind of id param.
3. Try changing the param value to some other user and see if does anything to their account.
4. Done !!

**Third Method**

1. Enumerate user's identifiers such as UID, and ID within the application.
2. Authenticate to the web application using a particular user 
3. Start Burp interception and capture all of the application's requests. 
4. Using the repeater module, replay the intercepted request with modified parameters such as UID, and ID that could point to other users' data. 
5. If the identifier value is hashed, you can use several decoding techniques to bypass it.


# Types of IDOR you will see in Request

1. The value of a parameter is used directly to retrieve a database record.

* http://foo.bar/somepage?invoice=12345

2. The value of a parameter is used directly to perform an operation in the system.

* http://foo.bar/changepassword?user=someuser

3. The value of a parameter is used directly to retrieve a file system resource.

* http://foo.bar/showImage?img=img00011

4. The value of a parameter is used directly to access application functionality.

* http://foo.bar/accessPage?menuitem=12
